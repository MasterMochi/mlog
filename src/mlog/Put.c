/******************************************************************************/
/*                                                                            */
/* src/mlog/Put.c                                                             */
/*                                                                 2019/04/21 */
/* Copyright (C) 2019 Mochi.                                                  */
/*                                                                            */
/******************************************************************************/
/******************************************************************************/
/* インクルード                                                               */
/******************************************************************************/
/* カーネルヘッダ */
#include <kernel/types.h>

/* 共通ヘッダ */
#include <mlog.h>

/* モジュールヘッダ */
#include "Vram.h"
#include "vga.h"


/******************************************************************************/
/* 定義                                                                       */
/******************************************************************************/
/** ログ文字属性 */
#define LOG_DEFAULT_ATTR ( VGA_M3_ATTR_FG_WHITE  |    /* 白色文字属性 */\
                           VGA_M3_ATTR_FG_BRIGHT |    /* 明色文字属性 */\
                           VGA_M3_ATTR_BG_BLACK    )  /* 黒色背景属性 */


/******************************************************************************/
/* グローバル関数定義                                                         */
/******************************************************************************/
/******************************************************************************/
/**
 * @brief       ログ出力
 * @details     パラメータpArgからログ出力文字列を取得し、画面にログ出力を行う。
 *
 * @param[in]   taskId タスクID
 * @param[in]   *pArg  パラメータ
 */
/******************************************************************************/
void PutDo( MkTaskId_t taskId,
            void       *pArg   )
{
    MlogMsgPut_t *pParam;   /* パラメータ */

    /* 初期化 */
    pParam = ( MlogMsgPut_t * ) pArg;

    /* 改行 */
    VramWriteChar( LOG_DEFAULT_ATTR, '\n' );

    /* 画面出力 */
    VramWriteStr( LOG_DEFAULT_ATTR, pParam->str );

    return;
}


/******************************************************************************/
